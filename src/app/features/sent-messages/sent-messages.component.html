<lib-hlsLinks
  [links]="links"
  [page]="page"
  [topText]="topText"
  [bottomText]="bottomText"
  [number]="number"
  [messagesNumber]="this.messagesNumber"
  [backButton]="backButton"
  [paginationText]="searchContext ? '-' : pagination.text"
  [isPreviousPageAllowed]="pagination.hasPrevious && !loading && !searchContext"
  [isNextPageAllowed]="pagination.hasNext && !loading && !searchContext"
  (nextPageAction)="nextPageActionClicked()"
  (previousPageAction)="previousPageActionClicked()"
  (selectAllAction)="selectAllActionClicked()"
  (deSelectAllAction)="deSelectAllActionClicked()"
  (seenAction)="seenActionClicked()"
  (seenAllAction)="seenAllActionClicked()"
  (importantAction)="importantActionClicked()"
  (deleteAction)="deleteActionClicked()"
  (archieveAction)="archieveActionClicked()"
  (filterAction)="filterActionClicked($event)"
  (refreshMessagingListAction)="refreshMessagingList()"
></lib-hlsLinks>
<div class="card rectangle-custom">
  <div class="card-body custom-card-message">
    <mat-tab-group
      class="links"
      mat-align-tabs="start"
      [backgroundColor]="'primary'"
      (selectedTabChange)="selectedTab($event)"
      [(selectedIndex)]="selectedTabIndex"

    >
    <mat-tab label="TousMessages" [disabled]="loading" >
      <ng-template mat-tab-label>
        <i class="fas fa-inbox my-tab-icon pr-custom-11px"></i>
        <span>Tous mes messages</span>
      </ng-template>
      <lib-hlsMessagingList
        *ngIf="!loading"
        [list]="filtredItemList"
        [hasPaging]="true"
        emptyList="Vous n'avez aucun nouveau message actuellement."
        (cardAction)="cardClicked($event)"
        (archieveAction)="archieveMessage($event)"
        (selectItemAction)="selectItem($event)"
        [imageSource]="imageSource"
        [hasPaging]="true"
      ></lib-hlsMessagingList>
    </mat-tab>
    <mat-tab label="Secrétaire" [disabled]="loading">
      <ng-template mat-tab-label>
        <i class="fas fa-user-nurse my-tab-icon pr-custom-11px"></i>
        <span>Secrétaire</span>
      </ng-template>
      <lib-hlsMessagingList
        *ngIf="!loading"
        [list]="filtredItemList"
        [hasPaging]="true"
        emptyList="Vous n'avez aucun nouveau message actuellement."
        (cardAction)="cardClicked($event)"
        (archieveAction)="archieveMessage($event)"
        (selectItemAction)="selectItem($event)"
        [imageSource]="imageSource"
        [hasPaging]="true"
      ></lib-hlsMessagingList>
    </mat-tab>
    <mat-tab label="Patients" [disabled]="loading">
      <ng-template mat-tab-label>
        <i class="fas fa-user my-tab-icon pr-custom-11px"></i>
        Patients
      </ng-template>
      <lib-hlsMessagingList
        *ngIf="!loading"
        [list]="filtredItemList"
        [hasPaging]="true"
        emptyList="Vous n'avez aucun nouveau message actuellement."
        (cardAction)="cardClicked($event)"
        (archieveAction)="archieveMessage($event)"
        (selectItemAction)="selectItem($event)"
        [imageSource]="imageSource"
        [hasPaging]="true"
      ></lib-hlsMessagingList>
    </mat-tab>
    <mat-tab label="Praticiens" [disabled]="loading" >
      <ng-template mat-tab-label>
        <i class="fas fa-user-md my-tab-icon pr-custom-11px"></i>
        Praticiens
      </ng-template>
      <lib-hlsMessagingList
        *ngIf="!loading"
        [list]="filtredItemList"
        [hasPaging]="true"
        emptyList="Vous n'avez aucun nouveau message actuellement."
        (cardAction)="cardClicked($event)"
        (archieveAction)="archieveMessage($event)"
        (selectItemAction)="selectItem($event)"
        [imageSource]="imageSource"
        [hasPaging]="true"
      ></lib-hlsMessagingList>
    </mat-tab>
    </mat-tab-group>
  </div>
</div>
<notifier-container></notifier-container>
<ng-template #customNotification let-notificationData="notification">
  <div class="text-center" type="notificationData.type">
    <i class="fa fa-check" style="font-size: 11px" aria-hidden="true"></i>
    &nbsp;<span class="information-text">{{ notificationData.message }}</span>
  </div>
</ng-template>
<mat-progress-spinner
  *ngIf="loading"
  diameter="20"
  mode="indeterminate"
  value="100"
>
</mat-progress-spinner>
