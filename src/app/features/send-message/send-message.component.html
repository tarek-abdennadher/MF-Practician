<lib-hlsLinks
  [links]="links"
  [page]="page"
  [topText]="topText"
  [backButton]="backButton"
  (backButtonAction)="goToBack()"
></lib-hlsLinks>
<lib-hls-send-message
  [imageSource]="imageSource"
  [connectedUserType]="connectedUserType"
  [connectedUser]="connectedUser"
  [toList]="toList"
  [ccList]="ccList"
  [forList]="forList"
  [concernList]="concernList"
  [objectsList]="objectsList"
  [selectedObject]="selectedObject"
  [imagedropdown]="imageDropdown"
  [messageTypesList]="sendTypeList"
  [isCCListVisible]="isCCListVisible"
  [isFreeObjectVisible]="isFreeObjectVisible"
  [isObjectSelectVisible]="isObjectSelectVisible"
  [isMessageTypesVisible]="isTypesVisible"
  [isForListVisible]="isForListVisible"
  [isInstruction]="isInstruction"
  (sendEmailAction)="sendMessage($event)"
  (addProContactAction)="addProContactAction()"
  (toListAction)="getSelectedToList($event)"
  (objectAction)="objectSelection($event)"
  (sendInstructionAction)="sendInstruction($event)"
  (typeAction)="typeSelection($event)"
></lib-hls-send-message>
<notifier-container></notifier-container>
<ng-template #customNotification let-notificationData="notification">
  <div class="text-center" type="notificationData.type">
    <i class="fa fa-check" style="font-size: 11px" aria-hidden="true"></i>
    &nbsp;<span>{{ notificationData.message }}</span>
  </div>
</ng-template>
<ngx-spinner [fullScreen]="true" type="none" size="medium">
  <div class="card" id="card-gif">
    <div class="card-body">
      <img id="loading-img" [src]="'assets/imgs/Loading-helssy.gif'" />
      <p class="loading">Envoi du message en cours...</p>
    </div>
  </div>
</ngx-spinner>
<div
  class="modal fade"
  id="firstModal"
  tabindex="-1"
  role="dialog"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <i
          class="fas fa-times-circle close-icon"
          data-dismiss="modal"
          aria-label="Close"
        ></i>
      </div>
      <div class="modal-body">
        <p>Bonjour {{ this.connectedUser }},</p>
        <p>Vous n'aver pas activé cette option.</p>
        <p>
          L'envoi postal se fait avec notre partenaire Maileva groupe Le Poste
        </p>
        <p>
          Ce service vous est offert par Helssy, seul le coût d'envoi est
          facturé eu tarif postal en vigueur.
        </p>
        <p>
          Le tarif postal inclus la réception, le traitement sécurisé de votre
          ou vos documents, l'Impression, la mise sous pli, l'affranchissement
          et le dépôt à la boite de votre destinataire.
        </p>
        <p>
          Souhaitez-vous activer et rajouter cette option à votre abonnement
          Helssy ?
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-ok" (click)="openConfirmModel()">
          OUI
        </button>
        <button type="button" class="btn btn-cancel" data-dismiss="modal">
          NON
        </button>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="confirmModal"
  tabindex="-1"
  role="dialog"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <i
          class="fas fa-times-circle close-icon"
          data-dismiss="modal"
          aria-label="Close"
        ></i>
      </div>
      <div class="modal-body">
        <p>Bonjour {{ this.connectedUser }},</p>
        <p>
          Nous vous remercions de bien vouloir valider l'ajout de votre nouvelle
          option &laquo; envoi postal &raquo; à votre abonnement Helssy.
        </p>

        <div class="checkbox-div">
          <label class="checkbox-label" for="confirmChkbx">
            <input
              (change)="checkboxChange($event)"
              type="checkbox"
              id="confirmChkbx"
              name="confirmChkbx"
              class="checkbox-input"
            />&nbsp;Je reconnais avoir pris connaissance des conditions
            générales de vente et d'utilisation</label
          >
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-ok confirm"
          [disabled]="!addOptionConfirmed"
          (click)="activateSenPostalOption()"
        >
          Je valide et signe numériquement mon contrat
        </button>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="successModal"
  tabindex="-1"
  role="dialog"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <i
          class="fas fa-times-circle close-icon"
          data-dismiss="modal"
          aria-label="Close"
        ></i>
      </div>
      <div class="modal-body">
        <p>Félicitations {{ this.connectedUser }},</p>
        <p>
          Votre option &laquo; envoi postal &raquo; est désormais active et
          opérationnelle sur votre Interface Helssy.
        </p>
        <p>
          Nous vous remercions pour votre confiance et vous souhaitons une bonne
          utilisation
        </p>
        <p>Le service clients</p>
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-ok confirm">
          Fermer
        </button>
      </div>
    </div>
  </div>
</div>
