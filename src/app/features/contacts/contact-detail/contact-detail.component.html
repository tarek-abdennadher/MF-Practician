<div class="row text-center">
  <a
    *ngIf="failureAlert"
    id="FailureAlert"
    (click)="close()"
    class="alert alert-danger alert-dismissible fade show pointer"
    role="alert"
  >
    {{ alertMessage }}
    <button
      type="button"
      (click)="close()"
      class="close"
      data-dismiss="alert"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </a>
</div>
<div class="card Rectangle" id="contact-pro-tabs">
  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 title">
    <i class="fas fa-info-circle fa-icon"></i>
    <span class="Mes-informations">{{ infoText }} </span>
  </div>
  <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
    <p class="Mes-informations-lighter">
      Parrainez un {{ practicianText }} et bénéficiez d'un mois d'abonnement
      offert.
    </p>
    <p class="Mes-informations-lighter">
      Inviter un {{ practicianText }} à s'inscrire sur Helssy et bénéficiez d'un
      mois d'abonnement offert dès la création de son compte par les
      administrateurs d'Helssy.
    </p>
    <p class="Mes-informations-lighter">
      En cliquant sur " envoyer ", un message en votre nom sera envoyé
      directement à votre destinataire l'informant que vous êtes inscrit sur
      Helssy et que vous l'invitez à vous rejoindre.
    </p>
    <p class="Mes-informations-lighter">
      N'hésitez pas à en parler autour de vous et continuer à bénéficier de
      notre offre de parrainage.
    </p>
  </div>
  <!-- Contact Pro Form -->
  <div class="card-body Rectangle-body">
    <form [formGroup]="infoForm" (ngSubmit)="(submitted)" #f="ngForm">
      <div class="row">
        <!-- Contact Title -->
        <div class="col-12 col-sm-3 col-lg-3 col-md-5 col-xl-5 pr-0 pl-0">
          <div for="title" class="col-sm-12 col-form-label">
            {{ labels.title }}
          </div>
          <div class="col-sm-12">
            <select
              formControlName="title"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && ctr.title.errors }"
              id="title"
            >
              <option value="null" disabled="true">{{ labels.title }}</option>
              <option *ngFor="let item of jobTitlesList" value="{{ item }}">
                {{ item | JobTitle }}
              </option>
            </select>
            <div *ngIf="submitted && ctr.title.errors" class="invalid-feedback">
              <div *ngIf="ctr.title.errors.required">
                {{ labels.required }}
              </div>
            </div>
          </div>
        </div>
      </div>
      <br />
      <div class="row">
        <!-- Contact Pro speciality -->
        <div class="col-12 pr-0 pl-0">
          <div for="speciality" class="col-12 col-form-label">
            {{ labels.speciality }}
          </div>
          <div class="col-12">
            <select
              data-live-search="true"
              formControlName="speciality"
              data-none-results-text="Pas de correspondance"
              class="selectpicker form-control"
              data-container="body"
              id="speciality"
            >
              <option value="null" disabled="true" selected>
                {{ labels.speciality }}
              </option>
              <option *ngFor="let s of specialities | async" [value]="s.id">
                {{ s.name }}
              </option>
            </select>
          </div>
        </div>
      </div>
      <br />
      <div class="row">
        <!-- Contact Pro last name -->
        <div class="col col-12 col-sm-6 pr-0 pl-0">
          <div for="last_name" class="col-sm-12 col-form-label">
            {{ labels.last_name }}
          </div>
          <div class="col-sm-12">
            <input
              type="text"
              formControlName="last_name"
              class="form-control"
              id="last_name"
              [ngClass]="{
                'is-invalid': submitted && ctr.last_name.errors
              }"
            />
            <div
              *ngIf="submitted && ctr.last_name.errors"
              class="invalid-feedback"
            >
              <div *ngIf="ctr.last_name.errors.required">
                {{ labels.required }}
              </div>
            </div>
          </div>
        </div>
        <!-- Contact Pro first name -->
        <div class="col col-12 col-sm-6 pr-0 pl-0">
          <div for="first_name" class="col-sm-12 col-form-label">
            {{ labels.first_name }}
          </div>
          <div class="col-sm-12">
            <input
              type="text"
              formControlName="first_name"
              class="form-control"
              id="first_name"
              [ngClass]="{
                'is-invalid': submitted && ctr.first_name.errors
              }"
            />
            <div
              *ngIf="submitted && ctr.first_name.errors"
              class="invalid-feedback"
            >
              <div *ngIf="ctr.first_name.errors.required">
                {{ labels.required }}
              </div>
            </div>
          </div>
        </div>
      </div>
      <br />
      <!--  Contact Pro email -->
      <div class="row">
        <div class="col-12 pr-0 pl-0">
          <div for="email" class="col-sm-12 col-form-label">
            {{ labels.email_input }} (*)
          </div>
          <div class="col-sm-12">
            <input
              type="text"
              formControlName="email"
              class="form-control"
              [ngClass]="{
                'is-invalid': submitted && ctr.email.errors
              }"
              id="email"
            />
            <div *ngIf="submitted && ctr.email.errors" class="invalid-feedback">
              <div *ngIf="ctr.email.errors.required">
                {{ labels.required }}
              </div>
              <div *ngIf="ctr.email.errors.email">
                {{ labels.email_invalid_format }}
              </div>
              <div *ngIf="ctr.email.errors.emailExist">
                {{ labels.email_exist }}
              </div>
            </div>
          </div>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-md-12 buttonsContainer">
          <button
            type="submit"
            class="btn btn-primary col-md-4 mr-4"
            (click)="submit()"
          >
            {{ labels.send }}
          </button>
          <button (click)="cancel()" class="btn btn-cancel col-md-4">
            {{ labels.cancel }}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
